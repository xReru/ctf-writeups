---
description: >-
  This is a machine that allows you to practise web app hacking and privilege
  escalation
icon: shield-exclamation
---

# Basic Pentesting

Difficulty: <mark style="color:green;">Easy</mark>

Machine IP: `10.67.150.36`

Welcome to my walkthrough for the Basic Pentesting room on TryHackMe. This machine is a classic "boot-to-root" experience designed for beginners to learn the fundamentals of enumeration, web fuzzing, and cracking credentials.

***

### ğŸ” Phase 1: Reconnaissance & Web Fuzzing

First things first: what are we looking at? I started with an `nmap` scan to see which services were running on the target.

Bash

```
nmap -sC -sV 10.67.150.36
```

The scan showed 6 open ports, including HTTP (80), SMB (139/445), and SSH (22).

#### Finding the Hidden Path with `ffuf`

The main landing page didn't have much to show, so I decided to "fuzz" the web server for hidden directories. I used `ffuf` because of its incredible speed and flexibility.

Bash

```
ffuf -u http://10.67.150.36/FUZZ \
  -w /usr/share/seclists/Discovery/Web-Content/common.txt \
  -mc 200,301,302,403
```

<figure><img src="../../.gitbook/assets/image (17).png" alt="" width="410"><figcaption></figcaption></figure>

I quickly discovered a directory called `/development`.

> ğŸš© <mark style="color:$primary;">Lab Question: What is the name of the hidden directory on the web server?</mark>&#x20;
>
> Answer: <mark style="color:$success;">`development`</mark>

Inside `/development`, I found two text files: `dev.txt` and `j.txt`.

* dev.txt: Mentioned Apache Struts 2.5.12 and noted that SMB is configured.
* j.txt: A note to someone named "J" about having a weak password.

***

### ğŸ“‚ Phase 2: Enumeration (SMB & Users)

The notes mentioned SMB and the initials "J" and "K." To confirm actual usernames, I used `enum4linux`:

Bash

```
enum4linux -a 10.67.150.36
```

Scanning through the output, I found two local Unix users:

* jan (User ID 1001)
* kay (User ID 1000)

> <mark style="color:$primary;">ğŸš© Lab Question: What is the username?</mark> Answer: <mark style="color:$success;">`jan`</mark>
>
> ğŸš© Lab Question: What is the name of the other user you found? Answer: <mark style="color:$success;">`kay`</mark>

***

### ğŸ”‘ Phase 3: Gaining Access (Brute Forcing)

Since the note mentioned Jan had a weak password, I decided to attack the SSH service using `Hydra` and the famous `rockyou.txt` wordlist.

Bash

```
hydra -l jan -P /usr/share/wordlists/rockyou.txt 10.67.150.36 ssh
```

Hydra worked its magic and found the password!

<figure><img src="../../.gitbook/assets/image (19).png" alt=""><figcaption></figcaption></figure>

* Username: `jan`
* Password: `armando`

> <mark style="color:$primary;">ğŸš© Lab Question: What is the password?</mark> Answer: <mark style="color:$success;">`armando`</mark>
>
> <mark style="color:$primary;">ğŸš© Lab Question: What service do you use to access the server?</mark> Answer: <mark style="color:$success;">`SSH`</mark>

I logged in immediately: `ssh jan@10.67.150.36`.

***

### ğŸš€ Phase 4: Privilege Escalation (The Kay Takeover)

Once inside as jan, I explored the system. Navigating to `/home/kay`, I noticed I had access to a hidden `.ssh` folder. Inside was `id_rsa`â€”Kay's private SSH key! I copied this key back to my local machine to crack it.

#### Cracking the Key with `ssh2john`

The key was passphrase-protected. To crack it, we first need to convert the key into a format John the Ripper can read.

1.  Convert the key to a hash:

    Bash

    ```
    ssh2john kay_rsa > kay_hash.txt
    ```
2.  Crack the hash using RockYou:

    Bash

    ```
    john --wordlist=/usr/share/wordlists/rockyou.txt kay_hash.txt
    ```

<figure><img src="../../.gitbook/assets/image (20).png" alt=""><figcaption></figcaption></figure>

The passphrase was revealed as: `beeswax`.

#### Logging in as Kay

Now, I could switch from jan's account to kay:

Bash

```
chmod 600 kay_rsa
ssh -i kay_rsa kay@10.67.150.36
```

Once logged in as Kay, I found a backup file: `pass.bak`.

<figure><img src="../../.gitbook/assets/image (18).png" alt=""><figcaption></figcaption></figure>

> <mark style="color:$primary;">ğŸš© Lab Question: What is the final password you obtain?</mark>&#x20;
>
> Answer: <mark style="color:$success;">`heresareallystrongpasswordthatfollowsthepasswordpolicy$$`</mark>

***

### ğŸš© Phase 5: Becoming Root

Even though I had the final password for the lab, a true pentester goes for root. Since I had Kayâ€™s system password from `pass.bak`, I checked my sudo privileges:

Bash

```
sudo -i
# Enter Kay's password: heresareallystrongpasswordthatfollowsthepasswordpolicy$$
```

Success! The prompt changed to `root@ip-10-64-146-188:~#`. I headed to the root directory and read the final flag.

***

### ğŸ“ Final Takeaway

This machine perfectly illustrates why enumeration is the most important part of pentesting. A simple note about a "weak password" was the thread that let us unravel the entire system.

Stay curious and keep digging! â€” 0xreru
